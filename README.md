# Монте-Карло оценка площади пересечения трёх кругов
### Высоцкая Анна - посылка Codeforces: 348254790

## 1. Постановка задачи
Даны три круга:
- C₁: центр (1, 1), радиус 1  
- C₂: центр (1.5, 2), радиус √5 / 2  
- C₃: центр (2, 1.5), радиус √5 / 2  

Необходимо оценить площадь их пересечения методом Монте-Карло и сравнить результаты при генерации точек:
- в **широкой области**, охватывающей все три круга;
- в **узкой области**, ограничивающей только пересечение.

Точное значение площади:
\[
S = \frac{1}{4}\pi + 1.25\arcsin(0.8) - 1 \approx 0.9445
\]

## 2. Проведение эксперимента
Для N = 100 … 100000 (шаг 500) проведено по 30 повторов для каждой области.
Результаты сохранены в `results.csv`, усреднены и визуализированы в двух графиках.

- `area_vs_N.png` — приближённая оценка площади
- `rel_error_vs_N.png` — относительная ошибка

## 3. Основные наблюдения

1. При малых N (100–5000) разброс оценок велик, особенно для широкой области.
2. При увеличении N оценки сходятся к точному значению (около 0.9445 - это площадь по формуле!).
3. Про ошибки (rel_error_vs_N.png): Узкая область (оранжевая кривая) стабильно ниже синей.
Это значит, что при одинаковом числе точек точность выше, если точки генерируются только вблизи фигуры, а не по всей большой области.
4. Зависимость ошибки от N приближённо соответствует теоретической ~ 1/√N.
5. При N ≥ 50000 ошибка < 1%.

## 4. Выводы

- Метод Монте-Карло корректно приближает площадь пересечения трёх кругов.  
- Качество оценки определяется как числом точек N, так и формой области, в которой генерируются точки.  
- Узкая область существенно повышает эффективность метода, уменьшая дисперсию результата.  
- Рекомендуется использовать область, плотно ограничивающую целевую фигуру, особенно при фиксированном количестве испытаний.

## 5. Файлы

| Файл                 | Назначение |
|----------------------|-------------|
| `main.cpp`           | Эксперимент Монте-Карло и сохранение данных в CSV |
| `results.csv`        | Сырые данные всех прогонов |
| `visualize.py`       | Анализ и построение графиков |
| `area_vs_N.png`      | График приближённой площади |
| `rel_error_vs_N.png` | График относительной ошибки |
| `README.md`          | Описание эксперимента и выводы |

## как я запускала:
```
g++ -std=c++17 -Wall -Wextra -Iinclude -o app main.cpp
./app
```
в виртуалку (venv):
```
pip install pandas matplotlib numpy
python visualize.py

```
